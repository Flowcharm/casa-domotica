<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ping</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='cam.css') }}" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  </head>

  <body>
    {% if isCallAvailable %}
    <div class="container">
      <figure id="stream-container" class="stream loading">
        <img id="stream-image" class="stream__img" />
      </figure>
      <h1>Ping: Telefonillo</h1>
    </div>
    <div class="container">
      <section class="door-actions">
        <h2 class="door-actions__title">¿Conceder acceso y Abrir puerta?</h2>
        <div class="btn door-actions__btn">
          <button id="btn-grant" class="door-actions__option">Conceder Acceso</button>
          <button id="btn-deny" class="door-actions__option">Denegar Acceso</button>
        </div>
      </section>
      <section class="stream-actions">
        <h2 class="stream-actions__title">Configuración</h2>
        <div>

          <div id="btn-open-config" class="btn stream-actions__btn-open">
            <svg class="" viewBox="0 0 24.00 24.00" fill="none" id="btn-open-modal"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M20.1 9.2214C18.29 9.2214 17.55 7.9414 18.45 6.3714C18.97 5.4614 18.66 4.3014 17.75 3.7814L16.02 2.7914C15.23 2.3214 14.21 2.6014 13.74 3.3914L13.63 3.5814C12.73 5.1514 11.25 5.1514 10.34 3.5814L10.23 3.3914C9.78 2.6014 8.76 2.3214 7.97 2.7914L6.24 3.7814C5.33 4.3014 5.02 5.4714 5.54 6.3814C6.45 7.9414 5.71 9.2214 3.9 9.2214C2.86 9.2214 2 10.0714 2 11.1214V12.8814C2 13.9214 2.85 14.7814 3.9 14.7814C5.71 14.7814 6.45 16.0614 5.54 17.6314C5.02 18.5414 5.33 19.7014 6.24 20.2214L7.97 21.2114C8.76 21.6814 9.78 21.4014 10.25 20.6114L10.36 20.4214C11.26 18.8514 12.74 18.8514 13.65 20.4214L13.76 20.6114C14.23 21.4014 15.25 21.6814 16.04 21.2114L17.77 20.2214C18.68 19.7014 18.99 18.5314 18.47 17.6314C17.56 16.0614 18.3 14.7814 20.11 14.7814C21.15 14.7814 22.01 13.9314 22.01 12.8814V11.1214C22 10.0814 21.15 9.2214 20.1 9.2214ZM12 15.2514C10.21 15.2514 8.75 13.7914 8.75 12.0014C8.75 10.2114 10.21 8.7514 12 8.7514C13.79 8.7514 15.25 10.2114 15.25 12.0014C15.25 13.7914 13.79 15.2514 12 15.2514Z" fill="#292D32" class=""></path> </g></svg>
            Configuración de la cámara
          </div>
          <div id="modal-config" class="modal-config hidden loading">
            <div id="bg-modal-config" class="modal-config__bg"></div>
            <div class="modal-config__dropdown">
              <div class="modal-config__header">
                <h3 class="modal-config__mobile-title">
                  Configuración de la Cámara
                </h3>
                <button id="btn-close-modal" class="btn modal-config__btn-close">
                  ×
                </button>
              </div>
              <form id="form-config" class="modal-config__form">
                <div class="modal-config__options">
                  <div>
                    <div class="modal-config__option">
                      <label for="framesize-select">Resolución</label>
                      <select name="framesize" id="framesize-select">
                        <option value="13">UXGA(1600x1200)</option>
                        <option value="12">SXGA(1280x1024)</option>
                        <option value="11">HD(1280x720)</option>
                        <option value="10">XGA(1024x768)</option>
                        <option value="9">SVGA(800x600)</option>
                        <option value="8" selected>VGA(640x480)</option>
                        <option value="7">HVGA(480x320)</option>
                        <option value="6">CIF(400x296)</option>
                        <option value="5">QVGA(320x240)</option>
                        <option value="4">240x240</option>
                        <option value="3">HQVGA(240x176)</option>
                        <option value="2">QCIF(176x144)</option>
                        <option value="1">QQVGA(160x120)</option>
                        <option value="0">96x96</option>
                      </select>
                    </div>
                    <div class="modal-config__switches">
                      <div class="modal-config__switch">
                        <p class="modal-config__label">
                          Led
                        </p>
                        <label class="switch" for="led-checkbox">
                          <input type="checkbox" name="led" id="led-checkbox" />
                          <span></span>
                        </label>
                      </div>
                      <div class="modal-config__switch">
                        <p class="modal-config__label">
                          Horizontal Flip
                        </p>
                        <label class="switch" for="hmirror-checkbox">
                          <input type="checkbox" name="hmirror" id="hmirror-checkbox" checked />
                          <span></span>
                        </label>
                      </div>
                      <div class="modal-config__switch">
                        <p class="modal-config__label">
                          Vertical Flip
                        </p>
                        <label class="switch" for="vflip-checkbox">
                          <input type="checkbox" name="vflip" id="vflip-checkbox" />
                          <span></span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <button id="btn-save-config" class="btn modal-config__btn-form" disabled>
                    Guardar
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>
    </div>
    {% else %}
    <h2 class="no-call">No hay ninguna llamada disponible</h2>
    {% endif %}
  </body>

  {% if isCallAvailable %}
    <script type="text/javascript">
      const wsURL = 'ws://' + '{{camHost}}' + ':' + '{{camPort}}' + '/';
    </script>
    <script src="{{ url_for('static', filename='cam.js' ) }}"></script>
  {% endif %}
</html>
